<!-- TODO: Start Action Group Booking -->
<nb-card>
    <nb-card-body class="nb-card-body">
      <div class="action-groups-header">
        Action Detail Booking
      </div>
      <nb-actions size="medium">

        <!-- !extend room -->
        <nb-action
          *ngIf="detailBookingByBookingId.bookingInformation.bookingStatusId !== 4 && detailBookingByBookingId.bookingInformation.bookingStatusId !== 5"
          icon="fas fa-external-link-alt"
          style="-webkit-text-fill-color: blue"          
          nbTooltip="Extend Room"
          nbTooltipPlacement="bottom"
          (click)="goToExtendRoom()">
        </nb-action>

        <!-- !Cancel Booking -->
        <nb-action
          *ngIf="detailBookingByBookingId.bookingInformation.bookingStatusId !== 4 && detailBookingByBookingId.bookingInformation.bookingStatusId !== 5"
          icon="fas fa-window-close"
          style="-webkit-text-fill-color: red"
          nbTooltip="Cancel Booking"
          nbTooltipPlacement="bottom"
          (click)="openActionCancelByBooking(dialogCancelByBooking)">
        </nb-action>

        <!-- !Booking Management -->
        <nb-action
          icon="fas fa-bars"
        style="-webkit-text-fill-color: black"
          nbTooltip="Go to Booking Management"
          nbTooltipPlacement="bottom"
          (click)="goToBookingManagement()">
        </nb-action>
        
      </nb-actions>
  </nb-card-body>
  </nb-card>
  <!-- TODO: End Action Group Booking -->

<!-- TODO: start tabs -->
<nb-card>
  <nb-card-header>
    <div class="row">
      <div class="col-auto mr-auto">
        Booking Number : {{detailBookingByBookingId.bookingInformation.bookingNumber}} - {{detailBookingByBookingId.bookingInformation.bookingStatusName}}
      </div>
    </div>
  </nb-card-header>

  <nb-card-body>
    <nb-tabset>

      <!-- ! booking information -->
      <nb-tab tabTitle="Booking Infomation">
        <nb-card>
          <nb-card-body>
            <div class="row">
              <div class="col-12">
                <div class="form-group">
                  <label for="exampleFormControlInput1">Name</label>
                  <input
                  type="text"
                  nbInput
                  fullWidth
                  disabled
                  class="form-control"
                  [(ngModel)]="detailBookingByBookingId.bookingInformation.guestName"
                  id="guestName"
                  name="guestName"
                  required
                  #guestName="ngModel"
                  placeholder="Guest name">
                </div>
            
                <div class="form-group">
                  <label for="exampleFormControlInput1">Address</label>
                  <textarea
                  nbInput
                  fullWidth
                  disabled
                  class="form-control"
                  [(ngModel)]="detailBookingByBookingId.bookingInformation.address"
                  id="address"
                  name="address"
                  required
                  #address="ngModel"
                  placeholder="Address"></textarea>
                </div>
            
                <div class="form-group">
                  <label for="exampleFormControlInput1">City</label>
                  <input
                  type="text"
                  nbInput
                  fullWidth
                  disabled
                  class="form-control"
                  [(ngModel)]="detailBookingByBookingId.bookingInformation.city"
                  id="city"
                  name="city"
                  required
                  #city="ngModel"
                  placeholder="City">
                </div>
            
                <div class="form-group">
                  <label for="exampleFormControlInput1">Email</label>
                  <input
                  type="email"
                  nbInput
                  fullWidth
                  disabled
                  class="form-control"
                  [(ngModel)]="detailBookingByBookingId.bookingInformation.email"
                  id="email"
                  name="email"
                  required
                  #email="ngModel"
                  placeholder="Email Adress">
                </div>
            
                <div class="form-group">
                  <label for="exampleFormControlInput1">Phone Number</label>
                  <input
                  type="text"
                  nbInput
                  fullWidth
                  disabled
                  class="form-control"
                  [(ngModel)]="detailBookingByBookingId.bookingInformation.phoneNumber"
                  id="phoneNumber"
                  name="phoneNumber"
                  required
                  #phoneNumber="ngModel"
                  placeholder="Phone Number">
                </div>
              </div>
            </div>
          </nb-card-body>
        </nb-card>
      </nb-tab>
      
      <!-- ! room information -->
      <nb-tab tabTitle="Room Information">
        <nb-card>
          <nb-card-body>
            <ng2-smart-table [settings]="settingRoomInformation"  [source]="roomInformation"></ng2-smart-table>
          </nb-card-body>
        </nb-card>
      </nb-tab>

      <!-- ! charge information -->
      <nb-tab tabTitle="Charge Information">
        <nb-card>
          <nb-card-body>
            <div class="row">
              <div class="col-12">
                <div class="form-group">
                  <label for="exampleFormControlInput1">Rate total</label>
                  <input
                  type="text"
                  nbInput
                  fullWidth
                  disabled
                  class="form-control"
                  [(ngModel)]="detailBookingByBookingId.chargeTotal.rateTotal"
                  id="rateTotal"
                  name="rateTotal"
                  required
                  #rateTotal="ngModel"
                  placeholder="Rate total">
                </div>
          
                <div class="form-group">
                  <label for="exampleFormControlInput1">Tax total</label>
                  <input
                  type="text"
                  nbInput
                  fullWidth
                  disabled
                  class="form-control"
                  [(ngModel)]="detailBookingByBookingId.chargeTotal.taxTotal"
                  id="taxTotal"
                  name="taxTotal"
                  required
                  #taxTotal="ngModel"
                  placeholder="Tax total">
                </div>
          
                <div class="form-group">
                  <label for="exampleFormControlInput1">Discount total</label>
                  <input
                  type="text"
                  nbInput
                  fullWidth
                  disabled
                  class="form-control"
                  [(ngModel)]="detailBookingByBookingId.chargeTotal.discountTotal"
                  id="discountTotal"
                  name="discountTotal"
                  required
                  #discountTotal="ngModel"
                  placeholder="Discount total">
                </div>
          
                <div class="form-group">
                  <label for="exampleFormControlInput1">Total</label>
                  <input
                  type="text"
                  nbInput
                  fullWidth
                  disabled
                  class="form-control"
                  [(ngModel)]="detailBookingByBookingId.chargeTotal.total"
                  id="total"
                  name="total"
                  required
                  #total="ngModel"
                  placeholder="Total">
                </div>
            
              </div>
            </div>
          </nb-card-body>
        </nb-card> 
      </nb-tab>

    </nb-tabset>
  </nb-card-body>
</nb-card>
<!-- TODO: end tabs -->


<!-- TODO: Dialog cancel booking -->
<ng-template #dialogCancelByBooking let-data let-ref="dialogRef">
  <nb-card>
    <nb-card-header>
      <div class="row">
        <div class="col-auto mr-auto">Cancel Room</div>
      </div>
    </nb-card-header>
    <nb-card-body>
      <div class="row">
        <div class="col-12">
          <div class="form-group">
            <label for="exampleFormControlInput1">Cancel Note</label>
            <textarea
            nbInput
            fullWidth
            class="form-control"
            [(ngModel)]="cancel.note"
            id="note"
            name="note"
            required
            #note="ngModel"
            placeholder="Cancel Note"></textarea>
          </div>
        </div>
      </div>
    </nb-card-body>
    <nb-card-footer>
        <button type="button" class="btn btn-primary btnn" (click)="cancelBooking()" (click)="ref.close()">Save</button>
        <button type="button" class="btn btn-warning btnn" (click)="ref.close()">Cancel</button>
    </nb-card-footer>
  </nb-card>
</ng-template>
  